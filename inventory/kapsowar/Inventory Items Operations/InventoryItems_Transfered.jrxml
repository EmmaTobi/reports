<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.1.1.final using JasperReports Library version 6.1.1  -->
<!-- 2016-04-06T15:20:52 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="InventoryItems_Transfered" pageWidth="595" pageHeight="842" whenNoDataType="NoDataSection" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" isIgnorePagination="true" uuid="ebad2bae-c2b4-4a63-b343-eb2286f3b5cd">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<style name="Table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue()%2==0)]]></conditionExpression>
			<style backcolor="#DFE8F2"/>
		</conditionalStyle>
	</style>
	<subDataset name="InventoryTransfered" uuid="020aec32-b773-4380-840c-ec8c0daf6f21">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="Kapsowar"/>
		<parameter name="beginDate" class="java.util.Date">
			<parameterDescription><![CDATA[]]></parameterDescription>
			<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
		</parameter>
		<parameter name="endDate" class="java.util.Date">
			<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
		</parameter>
		<parameter name="beginDatePattern" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA[new SimpleDateFormat("yyyy-MM-dd").format($P{beginDate})]]></defaultValueExpression>
		</parameter>
		<parameter name="endDatePattern" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA[new SimpleDateFormat("yyyy-MM-dd").format($P{endDate})]]></defaultValueExpression>
		</parameter>
		<parameter name="sourceStockroomID" class="java.lang.Integer"/>
		<parameter name="destinationStockroomID" class="java.lang.Integer"/>
		<queryString>
			<![CDATA[SELECT
inv_item.name as InventoryItemName, 
COUNT(inv_item.name) AS NoOfTransactions, 
SUM(inv_trans.quantity) AS AmountTransfered,
source_inv_stroom.name AS SourceStockroom,
dest_inv_stroom.name AS DestinationStockroom

FROM inv_transaction AS inv_trans
	INNER JOIN inv_stock_operation inv_sto
	ON inv_trans.operation_id = inv_sto.stock_operation_id
	INNER JOIN inv_item 
	ON inv_item.item_id = inv_trans.item_id
    INNER JOIN inv_stockroom source_inv_stroom
    ON source_inv_stroom.stockroom_id = inv_sto.source_id
    AND inv_sto.status = 'COMPLETED'
    INNER JOIN inv_stockroom dest_inv_stroom
    ON dest_inv_stroom.stockroom_id = inv_sto.destination_id
    AND inv_sto.status = 'COMPLETED'
    
WHERE inv_sto.operation_type_id = 6
AND (inv_sto.source_id =  $P{sourceStockroomID} AND inv_sto.destination_id =  $P{destinationStockroomID} 
AND inv_trans.stockroom_id =  $P{destinationStockroomID})
AND (inv_trans.date_created BETWEEN  $P{beginDatePattern} AND  $P{endDatePattern})
GROUP BY inv_item.name;]]>
		</queryString>
		<field name="InventoryItemName" class="java.lang.String"/>
		<field name="NoOfTransactions" class="java.lang.Long"/>
		<field name="AmountTransfered" class="java.math.BigDecimal"/>
		<field name="SourceStockroom" class="java.lang.String"/>
		<field name="DestinationStockroom" class="java.lang.String"/>
	</subDataset>
	<parameter name="beginDate" class="java.util.Date">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
	</parameter>
	<parameter name="endDate" class="java.util.Date">
		<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
	</parameter>
	<parameter name="beginDatePattern" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[new SimpleDateFormat("yyyy-MM-dd").format($P{beginDate})]]></defaultValueExpression>
	</parameter>
	<parameter name="endDatePattern" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[new SimpleDateFormat("yyyy-MM-dd").format($P{endDate})]]></defaultValueExpression>
	</parameter>
	<parameter name="sourceStockroomID" class="java.lang.Integer"/>
	<parameter name="destinationStockroomID" class="java.lang.Integer"/>
	<queryString>
		<![CDATA[SELECT 1]]>
	</queryString>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="51" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="575" height="32" uuid="3d394feb-d515-4d7c-83d4-3a2040a277bd"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="24"/>
				</textElement>
				<text><![CDATA[Kapsowar Hospital]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="30" width="575" height="20" uuid="3dc4c0a4-46eb-4589-855b-a24d8fc412b6"/>
				<textElement textAlignment="Center">
					<font size="14"/>
				</textElement>
				<text><![CDATA[Stockroom Inventory Items Transfer Report]]></text>
			</staticText>
		</band>
	</title>
	<pageHeader>
		<band height="19" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="401" height="18" uuid="3b747c90-5a38-4331-a60f-4e4980afead3"/>
				<textElement>
					<font size="12" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["From: " + new SimpleDateFormat("yyyy-MMM-dd").format($P{beginDate}) + " to " + new SimpleDateFormat("yyyy-MMM-dd").format($P{endDate})]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<pageFooter>
		<band height="30" splitType="Stretch">
			<textField>
				<reportElement x="0" y="6" width="369" height="16" uuid="fb92e32b-c9b8-4019-9bbd-6013b4783e08"/>
				<textElement textAlignment="Left">
					<font isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Generated at " + new SimpleDateFormat("yyyy-dd-MM HH:mm").format(new Date())]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="494" y="5" width="61" height="20" uuid="1de969c9-8f25-45d9-9b7f-1ea7ce672852"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA["Page " + $V{PAGE_NUMBER} + " of "]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="531" y="5" width="36" height="16" uuid="452d0b65-2fac-4fc8-9f5c-ea87e217babb"/>
				<textElement textAlignment="Right">
					<font isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="100" splitType="Stretch">
			<componentElement>
				<reportElement x="40" y="10" width="460" height="90" uuid="ffb1050c-17e5-4359-ba51-30e0753f9cae">
					<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
				</reportElement>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="InventoryTransfered" uuid="9498f21d-4ac3-444f-9f7c-01975143f39f">
						<datasetParameter name="beginDate">
							<datasetParameterExpression><![CDATA[new Date()]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="endDate">
							<datasetParameterExpression><![CDATA[new Date()]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="beginDatePattern">
							<datasetParameterExpression><![CDATA[new SimpleDateFormat("yyyy-MM-dd").format($P{beginDate})]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="endDatePattern">
							<datasetParameterExpression><![CDATA[new SimpleDateFormat("yyyy-MM-dd").format($P{endDate})]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="sourceStockroomID">
							<datasetParameterExpression><![CDATA[$P{sourceStockroomID}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="destinationStockroomID">
							<datasetParameterExpression><![CDATA[$P{destinationStockroomID}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="240" uuid="c9b6b162-2c97-4c17-aa07-9c9820783b91">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column1"/>
						<jr:tableHeader style="Table_TH" height="30">
							<box>
								<topPen lineWidth="0.0"/>
								<leftPen lineWidth="0.0"/>
								<bottomPen lineWidth="0.0"/>
								<rightPen lineWidth="0.0"/>
							</box>
							<textField>
								<reportElement x="0" y="0" width="240" height="30" uuid="e2d96efb-00b5-4f1e-aa9b-e02183c09bde"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA["From: " + $F{SourceStockroom}]]></textFieldExpression>
							</textField>
						</jr:tableHeader>
						<jr:columnHeader style="Table_CH" height="30">
							<staticText>
								<reportElement x="0" y="0" width="240" height="30" uuid="51e39022-826c-42bb-8890-0a988652d1a9"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Item Name]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table_TD" height="30">
							<textField>
								<reportElement x="0" y="0" width="240" height="30" uuid="b9067da6-75bd-4487-84fd-001bbbe669df"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$F{InventoryItemName}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="120" uuid="a9fed329-2e78-45de-99f5-8d7cec3ad92b">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column2"/>
						<jr:tableHeader style="Table_TH" height="30">
							<box>
								<topPen lineWidth="0.0"/>
								<leftPen lineWidth="0.0"/>
								<bottomPen lineWidth="0.0"/>
								<rightPen lineWidth="0.0"/>
							</box>
							<textField>
								<reportElement x="0" y="0" width="120" height="30" uuid="5f702b32-a62c-494e-a1b5-a412160eabfb"/>
								<textElement verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[" To: " + $F{DestinationStockroom}]]></textFieldExpression>
							</textField>
						</jr:tableHeader>
						<jr:columnHeader style="Table_CH" height="30">
							<staticText>
								<reportElement x="0" y="0" width="120" height="30" uuid="bba250d1-db41-439c-b334-522d78ee6666"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Number of Transactions]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table_TD" height="30">
							<textField>
								<reportElement x="0" y="0" width="120" height="30" uuid="7acf1e02-a3cb-4651-97ad-3562aa6e942d"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$F{NoOfTransactions}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="102" uuid="3907bad1-94e9-407e-a339-c6ce42385111">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column3"/>
						<jr:tableHeader style="Table_TH" height="30">
							<box>
								<topPen lineWidth="0.0"/>
								<leftPen lineWidth="0.0"/>
								<bottomPen lineWidth="0.0"/>
								<rightPen lineWidth="0.0"/>
							</box>
						</jr:tableHeader>
						<jr:columnHeader style="Table_CH" height="30">
							<staticText>
								<reportElement x="0" y="0" width="102" height="30" uuid="0cc8333c-24e4-469d-800a-454c76c0f199"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Amount Transfered]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table_TD" height="30">
							<textField>
								<reportElement x="0" y="0" width="102" height="30" uuid="f33a6261-264e-44b4-bc45-5991e5709fd2"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$F{AmountTransfered}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</summary>
	<noData>
		<band height="24">
			<staticText>
				<reportElement x="0" y="5" width="306" height="16" uuid="bb6616ce-bbd4-4799-9dde-31f261ef326c"/>
				<textElement textAlignment="Left">
					<font isBold="false" isItalic="true"/>
				</textElement>
				<text><![CDATA[No data was found to display on the report.]]></text>
			</staticText>
		</band>
	</noData>
</jasperReport>
